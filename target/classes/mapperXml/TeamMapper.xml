<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sise.makerSpace.dao.TeamDao">

    <resultMap type="TeamMember" id="teamMemberResultMap">
        <id property="memberId" column="member_id"/>
        <result property="userId" column="user_id"/>
        <result property="teamId" column="team_id"/>
        <result property="role" column="role"/>
    </resultMap>

    <select id="findAllTeamMember" resultMap="teamMemberResultMap">
        select * from teammember
    </select>

    <insert id="applyToCreateATeam" parameterType="Team">
        INSERT INTO Review_CreateTeam (
            applicant_id,
            team_name,
            category,
            teacher_id,
            team_describe,
            handler_id,
            approved,
            creation_time
        )
        VALUES
        (
            #{leader_id},
            #{team_name},
            #{category},
            #{teacher_id},
            #{team_describe},
            null,
            0,
            NOW()
        )
    </insert>

    <select id="getTeamInfo" parameterType="int" resultType="Team">
        select * from team where team_id=#{user_id}
    </select>

</mapper>